<!DOCTYPE html>




<html class="theme-next gemini" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="测试开发," />










<meta name="description" content="PyQt介绍PyQt是一个用于创建桌面应用程序的Python绑定库。它提供了对Qt应用程序框架的完整访问，使开发者能够使用Python编写高性能、跨平台的图形用户界面(GUI)应用程序。 PyQt可以在不同操作系统（如Windows、Mac和Linux）上运行，使开发者能够轻松地编写一次代码，然后在多个平台上部署和运行。 Qt是一个功能强大的C++跨平台应用程序框架，它提供了大量用于创建图形用户界">
<meta property="og:type" content="article">
<meta property="og:title" content="爬虫011-pyqt">
<meta property="og:url" content="https://shenle2019.github.io/2024/03/14/%E7%88%AC%E8%99%AB011-pyqt/index.html">
<meta property="og:site_name" content="波音列岛试炼场">
<meta property="og:description" content="PyQt介绍PyQt是一个用于创建桌面应用程序的Python绑定库。它提供了对Qt应用程序框架的完整访问，使开发者能够使用Python编写高性能、跨平台的图形用户界面(GUI)应用程序。 PyQt可以在不同操作系统（如Windows、Mac和Linux）上运行，使开发者能够轻松地编写一次代码，然后在多个平台上部署和运行。 Qt是一个功能强大的C++跨平台应用程序框架，它提供了大量用于创建图形用户界">
<meta property="og:locale">
<meta property="article:published_time" content="2024-03-13T23:36:47.000Z">
<meta property="article:modified_time" content="2024-03-13T15:52:30.033Z">
<meta property="article:author" content="General usopp">
<meta property="article:tag" content="测试开发">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://shenle2019.github.io/2024/03/14/爬虫011-pyqt/"/>





  <title>爬虫011-pyqt | 波音列岛试炼场</title>
  








  
    <!--pjax：防止跳转页面音乐暂停-->
  <script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script> 
<meta name="generator" content="Hexo 5.4.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">波音列岛试炼场</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">General usopp</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://shenle2019.github.io/2024/03/14/%E7%88%AC%E8%99%AB011-pyqt/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/psb.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="波音列岛试炼场">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">爬虫011-pyqt</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-03-14T07:36:47+08:00">
                2024-03-13
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2024-03-13T23:52:30+08:00">
                2024-03-13
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%88%AC%E8%99%AB/" itemprop="url" rel="index">
                    <span itemprop="name">爬虫</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2024/03/14/%E7%88%AC%E8%99%AB011-pyqt/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2024/03/14/%E7%88%AC%E8%99%AB011-pyqt/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv">本文阅读总量
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>次
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="PyQt"><a href="#PyQt" class="headerlink" title="PyQt"></a>PyQt</h1><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>PyQt是一个用于创建桌面应用程序的Python绑定库。它提供了对Qt应用程序框架的完整访问，使开发者能够使用Python编写高性能、跨平台的图形用户界面(GUI)应用程序。</p>
<p>PyQt可以在不同操作系统（如Windows、Mac和Linux）上运行，使开发者能够轻松地编写一次代码，然后在多个平台上部署和运行。</p>
<p>Qt是一个功能强大的C++跨平台应用程序框架，它提供了大量用于创建图形用户界面的功能和工具。PyQt则是Qt框架的Python绑定库，可以让Python开发者使用Python语言调用Qt的功能，以开发具有丰富交互和视觉效果的桌面应用程序。</p>
<p>总而言之，PyQt使得Python开发者能够利用Qt框架的强大功能和跨平台特性，快速开发出高质量的桌面应用程序。它被广泛应用于各种领域，如科学计算、数据可视化、企业应用、游戏开发等。</p>
<h2 id="环境安装"><a href="#环境安装" class="headerlink" title="环境安装"></a>环境安装</h2><ul>
<li>安装pyqt5<ul>
<li>pip install pyqt5 -i <a target="_blank" rel="noopener" href="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple</a></li>
</ul>
</li>
<li>测试安装是否成功：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果执行成功，没有任何错误提示，则表明环境搭建成功</span></span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtWidgets</span><br><span class="line"></span><br><span class="line"><span class="comment"># 当然也可以查看PyQt版本</span></span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="built_in">print</span>(QT_VERSION_STR)</span><br></pre></td></tr></table></figure>

<h2 id="相关操作"><a href="#相关操作" class="headerlink" title="相关操作"></a>相关操作</h2><h3 id="相关组件"><a href="#相关组件" class="headerlink" title="相关组件"></a>相关组件</h3><h4 id="QWidget主窗口组件"><a href="#QWidget主窗口组件" class="headerlink" title="QWidget主窗口组件"></a>QWidget主窗口组件</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication,QWidget</span><br><span class="line"><span class="comment">#1.创建一个qt的应用程序对象</span></span><br><span class="line">app = QApplication([])</span><br><span class="line"><span class="comment">#2.创建一个窗口对象</span></span><br><span class="line">w = QWidget()</span><br><span class="line"><span class="comment">#设置窗口标题</span></span><br><span class="line">w.setWindowTitle(<span class="string">&#x27;第一个PyQt程序&#x27;</span>)</span><br><span class="line"><span class="comment">#3.展示窗口</span></span><br><span class="line">w.show()</span><br><span class="line"><span class="comment">#4.程序进入循环等待状态，直到手动关闭窗口</span></span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<h4 id="按钮组件"><a href="#按钮组件" class="headerlink" title="按钮组件"></a>按钮组件</h4><p>按钮对应的控件名称为 <code> QPushButton</code>,位于 <code>PyQt5.QtWidgets</code> 里面</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication,QWidget,QPushButton</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line">    w = QWidget()</span><br><span class="line">    w.setWindowTitle(<span class="string">&#x27;按钮组件&#x27;</span>)</span><br><span class="line">    <span class="comment">#在窗口中添加按钮组件</span></span><br><span class="line">    btn = QPushButton(<span class="string">&#x27;我是一个按钮&#x27;</span>)</span><br><span class="line">    <span class="comment">#将按钮显示在窗口里</span></span><br><span class="line">    btn.setParent(w)</span><br><span class="line">    w.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<h4 id="标签组件"><a href="#标签组件" class="headerlink" title="标签组件"></a>标签组件</h4><p>标签控件名称为 <code> QLabel</code> ， 位于 <code>PyQt5.QtWidgets</code> 里面</p>
<p>标签控件仅仅作为标识显示而已，类似输入内容前的一段标签提示（账号 、密码）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication,QWidget,QLabel</span><br><span class="line">app = QApplication([])</span><br><span class="line">w = QWidget()</span><br><span class="line">w.setWindowTitle(<span class="string">&#x27;标签组件&#x27;</span>)</span><br><span class="line"></span><br><span class="line">label_username = QLabel(<span class="string">&#x27;账号:&#x27;</span>,w)</span><br><span class="line"><span class="comment">#设置组件大小和位置</span></span><br><span class="line"><span class="comment">#参数： x, y , w, h</span></span><br><span class="line">label_username.setGeometry(<span class="number">20</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">30</span>)</span><br><span class="line">label_password = QLabel(<span class="string">&#x27;密码:&#x27;</span>,w)</span><br><span class="line"><span class="comment">#设置组件大小和位置</span></span><br><span class="line">label_password.setGeometry(<span class="number">20</span>,<span class="number">60</span>,<span class="number">30</span>,<span class="number">30</span>)</span><br><span class="line"></span><br><span class="line">w.show()</span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<h4 id="输入框"><a href="#输入框" class="headerlink" title="输入框"></a>输入框</h4><p>输入框的控件名称为 <code>QLineEdit</code>， 位于 <code>PyQt5.QtWidgets</code> 里面</p>
<p>setGeometry调整组件位置和大小</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication,QWidget,QLabel,QLineEdit,QPushButton</span><br><span class="line">app = QApplication([])</span><br><span class="line">w = QWidget()</span><br><span class="line">w.setWindowTitle(<span class="string">&#x27;标签组件&#x27;</span>)</span><br><span class="line"></span><br><span class="line">label_username = QLabel(<span class="string">&#x27;账号:&#x27;</span>,w)</span><br><span class="line">label_username.setGeometry(<span class="number">20</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#输入框标签</span></span><br><span class="line">username = QLineEdit(w)</span><br><span class="line"><span class="comment">#设置默认填充显示内容</span></span><br><span class="line">username.setPlaceholderText(<span class="string">&#x27;请输入账号&#x27;</span>)</span><br><span class="line"><span class="comment">#设置组件位置和大小</span></span><br><span class="line">username.setGeometry(<span class="number">50</span>,<span class="number">20</span>,<span class="number">200</span>,<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">label_password = QLabel(<span class="string">&#x27;密码:&#x27;</span>,w)</span><br><span class="line">label_password.setGeometry(<span class="number">20</span>,<span class="number">60</span>,<span class="number">30</span>,<span class="number">30</span>)</span><br><span class="line">password = QLineEdit(w)</span><br><span class="line">password.setPlaceholderText(<span class="string">&#x27;请输入密码&#x27;</span>)</span><br><span class="line">password.setGeometry(<span class="number">50</span>,<span class="number">65</span>,<span class="number">200</span>,<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">btn = QPushButton(<span class="string">&#x27;登录&#x27;</span>,w)</span><br><span class="line">btn.setGeometry(<span class="number">70</span>,<span class="number">100</span>,<span class="number">70</span>,<span class="number">30</span>)</span><br><span class="line"></span><br><span class="line">w.show()</span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<h4 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h4><p>表格组件：QTableWidget</p>
<p>表格元素组件：QTableWidgetItem</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow, QTableWidget, QTableWidgetItem</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建一个主窗口对象</span></span><br><span class="line">    mainWindow = QMainWindow()</span><br><span class="line">    mainWindow.setWindowTitle(<span class="string">&quot;Table Widget Example&quot;</span>)</span><br><span class="line">    <span class="comment"># 创建一个表格控件</span></span><br><span class="line">    tableWidget = QTableWidget(mainWindow)</span><br><span class="line">    <span class="comment"># 设置表格的行数和列数</span></span><br><span class="line">    tableWidget.setRowCount(<span class="number">2</span>)</span><br><span class="line">    tableWidget.setColumnCount(<span class="number">2</span>)</span><br><span class="line">    <span class="comment"># 设置表格的水平和垂直表头标签</span></span><br><span class="line">    tableWidget.setHorizontalHeaderLabels([<span class="string">&quot;Column 1&quot;</span>, <span class="string">&quot;Column 2&quot;</span>])</span><br><span class="line">    tableWidget.setVerticalHeaderLabels([<span class="string">&quot;Row 1&quot;</span>, <span class="string">&quot;Row 2&quot;</span>])</span><br><span class="line">    <span class="comment"># 设置表格的内容</span></span><br><span class="line">    tableWidget.setItem(<span class="number">0</span>, <span class="number">0</span>, QTableWidgetItem(<span class="string">&quot;Item 1&quot;</span>))</span><br><span class="line">    tableWidget.setItem(<span class="number">0</span>, <span class="number">1</span>, QTableWidgetItem(<span class="string">&quot;Item 2&quot;</span>))</span><br><span class="line">    tableWidget.setItem(<span class="number">1</span>, <span class="number">0</span>, QTableWidgetItem(<span class="string">&quot;Item 4&quot;</span>))</span><br><span class="line">    tableWidget.setItem(<span class="number">1</span>, <span class="number">1</span>, QTableWidgetItem(<span class="string">&quot;Item 5&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将表格控件添加到主窗口中</span></span><br><span class="line">    mainWindow.setCentralWidget(tableWidget)</span><br><span class="line">    <span class="comment"># 显示主窗口</span></span><br><span class="line">    mainWindow.show()</span><br><span class="line"></span><br><span class="line">    app.exec_()</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="调整窗口大小"><a href="#调整窗口大小" class="headerlink" title="调整窗口大小"></a>调整窗口大小</h4><p>resize调整窗口大小</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication,QWidget</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line">    w = QWidget()</span><br><span class="line">    w.setWindowTitle(<span class="string">&#x27;设置窗口大小&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#设置窗口大小</span></span><br><span class="line">    w.resize(<span class="number">300</span>,<span class="number">300</span>)</span><br><span class="line">    </span><br><span class="line">    w.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<h2 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h2><ul>
<li><p>环境安装：</p>
<ul>
<li>pip install pyInstaller</li>
<li>pip install auto-py-to-exe</li>
</ul>
</li>
<li><p>编译生成exe文件</p>
<ul>
<li>命令行进入桌面文件夹，运行命令行</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyinstaller -F -w main.py</span><br></pre></td></tr></table></figure></li>
<li><p>生成的dist文件里面含打包文件，点击运行</p>
</li>
</ul>
<h2 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h2><p>在Qt里面布局分为3个大类 ：</p>
<ul>
<li>QBoxLayout</li>
<li>QGridLayout</li>
<li>QFormLayout</li>
</ul>
<h3 id="QBoxLayout"><a href="#QBoxLayout" class="headerlink" title="QBoxLayout"></a>QBoxLayout</h3><p>直译为：盒子布局</p>
<p>一般使用它的两个工具类<code>QHBoxLayout</code> 和 <code>QVBoxLayout</code> 负责水平和垂直布局</p>
<ul>
<li>垂直布局示例QVBoxLayout：<ul>
<li>layout.addStretch(n):设置被布局的组件间的空间距离</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication,QWidget,QVBoxLayout,QPushButton</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line">    w = QWidget()</span><br><span class="line">    w.setWindowTitle(<span class="string">&#x27;垂直布局&#x27;</span>)</span><br><span class="line">    w.resize(<span class="number">300</span>,<span class="number">300</span>)</span><br><span class="line"></span><br><span class="line">    btn1 = QPushButton(<span class="string">&quot;按钮1&quot;</span>)</span><br><span class="line">    btn2 = QPushButton(<span class="string">&quot;按钮2&quot;</span>)</span><br><span class="line">    btn3 = QPushButton(<span class="string">&quot;按钮3&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#创建垂直布局工具且将组建添加到布局工具中</span></span><br><span class="line">    layout = QVBoxLayout()</span><br><span class="line">    layout.addWidget(btn1)</span><br><span class="line">    <span class="comment">#设置被布局的组件间的空间距离</span></span><br><span class="line">    layout.addStretch(<span class="number">1</span>)</span><br><span class="line">    layout.addWidget(btn2)</span><br><span class="line">    layout.addStretch(<span class="number">2</span>)</span><br><span class="line">    layout.addWidget(btn3)</span><br><span class="line">    layout.addStretch(<span class="number">3</span>)</span><br><span class="line">    <span class="comment">#将布局工具作用在窗口上</span></span><br><span class="line">    w.setLayout(layout)</span><br><span class="line"></span><br><span class="line">    w.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<ul>
<li>水平布局示例QHBoxLayout+单选按钮QRadioButton：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication,QWidget,QHBoxLayout,QRadioButton</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line">    w = QWidget()</span><br><span class="line">    w.setWindowTitle(<span class="string">&#x27;单选按钮&#x27;</span>)</span><br><span class="line">    w.resize(<span class="number">500</span>,<span class="number">500</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#创建单选按钮</span></span><br><span class="line">    <span class="comment"># 创建单选按钮</span></span><br><span class="line">    radio_btn1 = QRadioButton(<span class="string">&quot;选项1&quot;</span>)</span><br><span class="line">    <span class="comment">#默认选中第一个按钮</span></span><br><span class="line">    radio_btn1.setChecked(<span class="literal">True</span>)</span><br><span class="line">    radio_btn2 = QRadioButton(<span class="string">&quot;选项2&quot;</span>)</span><br><span class="line">    radio_btn3 = QRadioButton(<span class="string">&quot;选项3&quot;</span>)</span><br><span class="line">    <span class="comment">#创建水平布局工具将单选按钮添加到布局工具中</span></span><br><span class="line">    layout = QHBoxLayout()</span><br><span class="line">    layout.addWidget(radio_btn1)</span><br><span class="line">    layout.addWidget(radio_btn2)</span><br><span class="line">    layout.addWidget(radio_btn3)</span><br><span class="line">    <span class="comment">#将布局工具作用在窗口上</span></span><br><span class="line">    w.setLayout(layout)</span><br><span class="line"></span><br><span class="line">    w.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<ul>
<li>水平和垂直布局联合嵌套使用+多选按钮QCheckBox+QGroupBox分组框<ul>
<li>思路：<ul>
<li>创建主布局工具对象（垂直布局）</li>
<li>创建QGroupBox(‘title’)组</li>
<li>创建组内组件</li>
<li>创建组内布局工具</li>
<li>将组内组件添加到组内布局工具中</li>
<li>将组内布局工具作用/设置在QGroupBox组中</li>
<li>将多个QGroupBox组添加在主布局工具中</li>
<li>将主布局工具设置在主窗口中</li>
</ul>
</li>
<li>将不同组件何其对应的布局作用在一个QGroupBox组中，然后将多个QGroupBox组作用在一个指定的主布局工具中，最后将主布局工具显示作用在主窗体上。</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication,QWidget,QHBoxLayout,QVBoxLayout,QRadioButton,QCheckBox,QLabel,QGroupBox</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line">    w = QWidget()</span><br><span class="line">    w.resize(<span class="number">500</span>,<span class="number">500</span>)</span><br><span class="line">    <span class="comment">#创建用于布局两个布局工具的布局工具</span></span><br><span class="line">    main_layout = QVBoxLayout()</span><br><span class="line"></span><br><span class="line">    <span class="comment">#创建第一个分组框</span></span><br><span class="line">    group_1 = QGroupBox(<span class="string">&#x27;性别&#x27;</span>)</span><br><span class="line">    <span class="comment">#创建单选按钮(性别)</span></span><br><span class="line">    label = QLabel(<span class="string">&#x27;性别:&#x27;</span>)</span><br><span class="line">    male = QRadioButton(<span class="string">&quot;男&quot;</span>)</span><br><span class="line">    female = QRadioButton(<span class="string">&quot;女&quot;</span>)</span><br><span class="line">    <span class="comment">#创建水平布局工具将单选按钮添加到布局工具中</span></span><br><span class="line">    layout_h = QHBoxLayout()</span><br><span class="line">    layout_h.addWidget(label)</span><br><span class="line">    layout_h.addWidget(male)</span><br><span class="line">    layout_h.addWidget(female)</span><br><span class="line">    <span class="comment">#将布局工具作用在分组框上</span></span><br><span class="line">    group_1.setLayout(layout_h)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建第二个分组框</span></span><br><span class="line">    group_2 = QGroupBox(<span class="string">&#x27;爱好&#x27;</span>)</span><br><span class="line">    <span class="comment">#创建多选按钮,作用在垂直布局中</span></span><br><span class="line">    label = QLabel(<span class="string">&#x27;爱好：&#x27;</span>)</span><br><span class="line">    <span class="comment"># 创建多选按钮</span></span><br><span class="line">    h1 = QCheckBox(<span class="string">&quot;运动&quot;</span>)</span><br><span class="line">    h2 = QCheckBox(<span class="string">&quot;音乐&quot;</span>)</span><br><span class="line">    h3 = QCheckBox(<span class="string">&quot;读书&quot;</span>)</span><br><span class="line">    <span class="comment"># 将多选按钮添加到布局中</span></span><br><span class="line">    layout_v = QVBoxLayout()</span><br><span class="line">    layout_v.addWidget(h1)</span><br><span class="line">    layout_v.addWidget(h2)</span><br><span class="line">    layout_v.addWidget(h3)</span><br><span class="line">    group_2.setLayout(layout_v)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#将两个分组框添加在主布局工具中</span></span><br><span class="line">    main_layout.addWidget(group_1)</span><br><span class="line">    main_layout.addWidget(group_2)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#将主布局工具显示在主窗口上</span></span><br><span class="line">    w.setLayout(main_layout)</span><br><span class="line">    w.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<h3 id="QGridLayout"><a href="#QGridLayout" class="headerlink" title="QGridLayout"></a>QGridLayout</h3><p>网格布局，有的人称之为九宫格布局</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QWidget, QVBoxLayout, QPushButton, QLineEdit, QGridLayout</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line">    w = QWidget()</span><br><span class="line">    <span class="comment"># 准备数据</span></span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="number">0</span>: [<span class="string">&quot;7&quot;</span>, <span class="string">&quot;8&quot;</span>, <span class="string">&quot;9&quot;</span>, <span class="string">&quot;+&quot;</span>, <span class="string">&quot;(&quot;</span>],</span><br><span class="line">        <span class="number">1</span>: [<span class="string">&quot;4&quot;</span>, <span class="string">&quot;5&quot;</span>, <span class="string">&quot;6&quot;</span>, <span class="string">&quot;-&quot;</span>, <span class="string">&quot;)&quot;</span>],</span><br><span class="line">        <span class="number">2</span>: [<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;*&quot;</span>, <span class="string">&quot;&lt;-&quot;</span>],</span><br><span class="line">        <span class="number">3</span>: [<span class="string">&quot;0&quot;</span>, <span class="string">&quot;.&quot;</span>, <span class="string">&quot;=&quot;</span>, <span class="string">&quot;/&quot;</span>, <span class="string">&quot;C&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># 主垂直布局工具</span></span><br><span class="line">    layout = QVBoxLayout()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 输入框</span></span><br><span class="line">    edit = QLineEdit()</span><br><span class="line">    edit.setPlaceholderText(<span class="string">&quot;请输入内容&quot;</span>)</span><br><span class="line">    <span class="comment"># 把输入框添加到垂直布局中</span></span><br><span class="line">    layout.addWidget(edit)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 网格布局（也需要添加到垂直布局中）</span></span><br><span class="line">    grid = QGridLayout()</span><br><span class="line">    <span class="comment"># 循环创建追加进去</span></span><br><span class="line">    <span class="keyword">for</span> line_number, line_data <span class="keyword">in</span> data.items():</span><br><span class="line">        <span class="comment"># 此时line_number是第几行，line_data是当前行的数据</span></span><br><span class="line">        <span class="keyword">for</span> col_number, number <span class="keyword">in</span> <span class="built_in">enumerate</span>(line_data):</span><br><span class="line">            <span class="comment"># 此时col_number是第几列，number是要显示的符号</span></span><br><span class="line">            <span class="comment">#按钮</span></span><br><span class="line">            btn = QPushButton(number)</span><br><span class="line">            <span class="comment">#指定网格布局的组件和行列号</span></span><br><span class="line">            grid.addWidget(btn, line_number, col_number)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 把网格布局追加到容器中</span></span><br><span class="line">    layout.addLayout(grid)</span><br><span class="line">    <span class="comment"># 将主布局显示添加在主窗口上</span></span><br><span class="line">    w.setLayout(layout)</span><br><span class="line">    w.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<h3 id="QFormLayout"><a href="#QFormLayout" class="headerlink" title="QFormLayout"></a>QFormLayout</h3><p>一般适用于提交数据<strong>form表单</strong>。比如： 登录，注册类似的场景</p>
<p>实现步骤：</p>
<ul>
<li>创建表单布局工具</li>
<li>创建对应的组件</li>
<li>使用表单布局工具调用addRow将组建添加到表单布局中</li>
<li>将表单布局设置到主窗口中</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QVBoxLayout, QFormLayout, QLineEdit, QPushButton, QApplication, QWidget</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> Qt</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line">    w = QWidget()</span><br><span class="line">    <span class="comment">#禁止改变窗口大小</span></span><br><span class="line">    w.setFixedSize(<span class="number">500</span>,<span class="number">350</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 表单布局容器</span></span><br><span class="line">    form_layout = QFormLayout()</span><br><span class="line">    <span class="comment"># 创建1个输入框</span></span><br><span class="line">    edit = QLineEdit()</span><br><span class="line">    edit.setPlaceholderText(<span class="string">&quot;请输入账号&quot;</span>)</span><br><span class="line">    <span class="comment">#将输入框添加到表单布局容器中</span></span><br><span class="line">    form_layout.addRow(<span class="string">&quot;账号：&quot;</span>, edit)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建另外1个输入框</span></span><br><span class="line">    edit2 = QLineEdit()</span><br><span class="line">    edit2.setPlaceholderText(<span class="string">&quot;请输入密码&quot;</span>)</span><br><span class="line">    <span class="comment"># 将输入框添加到表单布局容器中</span></span><br><span class="line">    form_layout.addRow(<span class="string">&quot;密码：&quot;</span>, edit2)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 按钮</span></span><br><span class="line">    login_btn = QPushButton(<span class="string">&quot;登录&quot;</span>)</span><br><span class="line">    <span class="comment"># 指定登录按钮大小固定</span></span><br><span class="line">    login_btn.setFixedSize(<span class="number">100</span>, <span class="number">30</span>)</span><br><span class="line"></span><br><span class="line">    form_layout.addRow(<span class="string">&#x27;&#x27;</span>,login_btn)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 主布局容器添加显示到主窗口中</span></span><br><span class="line">    w.setLayout(form_layout)</span><br><span class="line">    w.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<h2 id="窗口"><a href="#窗口" class="headerlink" title="窗口"></a>窗口</h2><p>在Qt中，生成窗口有三种方式： <code>QWidget</code> | <code>QMainWindow</code> | <code>QDialog</code></p>
<ol>
<li>QWidget</li>
</ol>
<p>控件和窗口的父类 ，自由度高（什么都东西都没有），没有划分菜单、工具栏、状态栏、主窗口 等区域</p>
<ol start="2">
<li>QMainWindow是<code> QWidget</code>的子类，包含菜单栏，工具栏，状态栏，标题栏等，中间部分则为主窗口区域</li>
<li>QDialog对话框窗口</li>
</ol>
<h3 id="QMainWindow"><a href="#QMainWindow" class="headerlink" title="QMainWindow"></a>QMainWindow</h3><ul>
<li>创建QMainWindow主窗口w</li>
<li>基于主窗口创建菜单栏工具w.menuBar()</li>
<li>基于菜单栏工具调用addMenu(‘title’)添加菜单选项</li>
<li>通过addAction()添加菜单子选项</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QMainWindow, QLabel, QApplication</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line">    w = QMainWindow()</span><br><span class="line">    <span class="comment">#创建菜单栏工具</span></span><br><span class="line">    menu = w.menuBar()</span><br><span class="line">    <span class="comment">#mac专加，win不用</span></span><br><span class="line">    <span class="comment"># 如果是Mac的话，菜单栏不会在Window中显示而是屏幕顶部系统菜单栏位置，下面这一行代码使得Mac也按照Windows的那种方式在Window中显示Menu</span></span><br><span class="line">    menu.setNativeMenuBar(<span class="literal">False</span>)</span><br><span class="line">    <span class="comment">#添加菜单选项</span></span><br><span class="line">    file_menu = menu.addMenu(<span class="string">&#x27;文件&#x27;</span>)</span><br><span class="line">    <span class="comment">#添加子选项</span></span><br><span class="line">    file_menu.addAction(<span class="string">&#x27;新建&#x27;</span>)</span><br><span class="line">    file_menu.addAction(<span class="string">&#x27;打开&#x27;</span>)</span><br><span class="line">    file_menu.addAction(<span class="string">&#x27;保存&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 添加菜单选项</span></span><br><span class="line">    edit_menu = menu.addMenu(<span class="string">&#x27;编辑&#x27;</span>)</span><br><span class="line">    <span class="comment"># 添加子选项</span></span><br><span class="line">    edit_menu.addAction(<span class="string">&#x27;复制&#x27;</span>)</span><br><span class="line">    edit_menu.addAction(<span class="string">&#x27;粘贴&#x27;</span>)</span><br><span class="line">    edit_menu.addAction(<span class="string">&#x27;剪切&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    w.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<h3 id="QDialog"><a href="#QDialog" class="headerlink" title="QDialog"></a>QDialog</h3><p>对话框一般不应该作为主窗口的存在，而是通过点击操作弹出，起到提示作用.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QDialog, QPushButton, QApplication,QLabel</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line">    w = QDialog()</span><br><span class="line">    w.setWindowTitle(<span class="string">&#x27;我是对话框&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    label = QLabel(<span class="string">&#x27;警告！报错！&#x27;</span>,w)</span><br><span class="line">    w.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<h2 id="信号与槽"><a href="#信号与槽" class="headerlink" title="信号与槽"></a>信号与槽</h2><h3 id="信号"><a href="#信号" class="headerlink" title="信号"></a>信号</h3><p>其实就是事件（按钮点击 、内容发生改变 、窗口的关闭事件） 或者是状态 （check选中）</p>
<p>当程序触发了某种状态或者发生了某种事件（比如：按钮被点击了, 内容改变等等），那么即可发射出来一个<code>信号</code>。</p>
<h3 id="槽"><a href="#槽" class="headerlink" title="槽"></a>槽</h3><p>若想捕获这个信号，然后执行相应的逻辑代码，那么就需要使用到 <code>槽</code> ， <code>槽</code>实际上是一个函数， 当<code>信号</code>发射出来后，会执行与之绑定的<code>槽</code>函数</p>
<h3 id="信号与槽链接"><a href="#信号与槽链接" class="headerlink" title="信号与槽链接"></a>信号与槽链接</h3><p>为了能够实现，当点击某个按钮时执行某个逻辑，需要把具体的<code>信号</code>和具体的<code>槽</code>函数绑定到一起.</p>
<p>操作大体流程如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">组件.信号.connect(槽函数)</span><br></pre></td></tr></table></figure>

<h3 id="具体操作"><a href="#具体操作" class="headerlink" title="具体操作"></a>具体操作</h3><h5 id="校验用户密码是否正确"><a href="#校验用户密码是否正确" class="headerlink" title="校验用户密码是否正确"></a>校验用户密码是否正确</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QWidget, QPushButton,QLabel,QVBoxLayout,QLineEdit,QFormLayout</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line">    w = QWidget()</span><br><span class="line">    <span class="comment">#主布局工具</span></span><br><span class="line">    layout = QVBoxLayout()</span><br><span class="line">    <span class="comment">#表单布局</span></span><br><span class="line">    form = QFormLayout()</span><br><span class="line">    user = QLineEdit()</span><br><span class="line">    pwd = QLineEdit()</span><br><span class="line">    form.addRow(<span class="string">&#x27;账号:&#x27;</span>,user)</span><br><span class="line">    form.addRow(<span class="string">&#x27;密码:&#x27;</span>,pwd)</span><br><span class="line">    layout.addLayout(form)</span><br><span class="line"></span><br><span class="line">    btn = QPushButton(<span class="string">&#x27;登录&#x27;</span>)</span><br><span class="line">    layout.addWidget(btn)</span><br><span class="line"></span><br><span class="line">    label = QLabel()</span><br><span class="line">    <span class="comment">#点击按钮获取账号密码数据</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_text</span>():</span></span><br><span class="line">        <span class="comment">#获取账号密码数据</span></span><br><span class="line">        user_text = user.text()</span><br><span class="line">        pwd_text = pwd.text()</span><br><span class="line">        <span class="comment"># print(user_text,pwd_text)</span></span><br><span class="line">        <span class="keyword">if</span> user_text == <span class="string">&#x27;123&#x27;</span> <span class="keyword">and</span> pwd_text == <span class="string">&#x27;456&#x27;</span>:</span><br><span class="line">            label.setText(<span class="string">&#x27;正确&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            label.setText(<span class="string">&#x27;错误&#x27;</span>)</span><br><span class="line">        layout.addWidget(label)</span><br><span class="line"></span><br><span class="line">    btn.clicked.connect(get_text)</span><br><span class="line">    w.setLayout(layout)</span><br><span class="line">    w.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<h5 id="文件选择对话框"><a href="#文件选择对话框" class="headerlink" title="文件选择对话框"></a>文件选择对话框</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line">app = QApplication([])</span><br><span class="line">w = QWidget()</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">openFile</span>():</span></span><br><span class="line">    <span class="comment">#参数1：指定文件对话框的父窗口</span></span><br><span class="line">    <span class="comment">#参数2：文件对话框的标题</span></span><br><span class="line">    <span class="comment">#参数3：文件对话框打开时显示的默认目录</span></span><br><span class="line">    <span class="comment">#参数4：过滤器，用于限制用户可以选择的文件类型。过滤器是一个字符串，可以包含多个文件类型，每个文件类型之间使用双分号&quot;;;&quot;分隔。例如，&quot;Text Files (.txt);;All Files ()&quot;表示只允许选择扩展名为txt的文本文件，或者选择任意类型的文件。</span></span><br><span class="line">    file_dialog = QFileDialog()</span><br><span class="line">    file, _ = file_dialog.getOpenFileName(w,<span class="string">&quot;Open File&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;All Files (*)&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> file:</span><br><span class="line">        <span class="built_in">print</span>(file)</span><br><span class="line"></span><br><span class="line">button = QPushButton(<span class="string">&quot;Open File&quot;</span>)</span><br><span class="line">button.setParent(w)</span><br><span class="line">button.clicked.connect(openFile)</span><br><span class="line">button.setGeometry(<span class="number">150</span>, <span class="number">150</span>, <span class="number">100</span>, <span class="number">30</span>)</span><br><span class="line"></span><br><span class="line">w.show()</span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<h5 id="文件夹选择"><a href="#文件夹选择" class="headerlink" title="文件夹选择"></a>文件夹选择</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line">app = QApplication([])</span><br><span class="line">w = QWidget()</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">openFile</span>():</span></span><br><span class="line">    file_dialog = QFileDialog()</span><br><span class="line">    folder_path = file_dialog.getExistingDirectory(w, <span class="string">&quot;选择文件夹&quot;</span>, <span class="string">&quot;/&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(folder_path)</span><br><span class="line"></span><br><span class="line">button = QPushButton(<span class="string">&quot;Open Folder&quot;</span>)</span><br><span class="line">button.setParent(w)</span><br><span class="line">button.clicked.connect(openFile)</span><br><span class="line">button.setGeometry(<span class="number">150</span>, <span class="number">150</span>, <span class="number">100</span>, <span class="number">30</span>)</span><br><span class="line"></span><br><span class="line">w.show()</span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<h5 id="下拉框"><a href="#下拉框" class="headerlink" title="下拉框"></a>下拉框</h5><ul>
<li>创建下拉框 QComboBox()</li>
<li>添加选项addItem(‘xxx’)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QWidget, QLabel, QVBoxLayout, QComboBox</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">on_combobox_changed</span>(<span class="params">text</span>):</span></span><br><span class="line">    label.setText(<span class="string">&quot;你选择了：&quot;</span> + text)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line">    window = QWidget()</span><br><span class="line">    window.setWindowTitle(<span class="string">&quot;下拉框示例&quot;</span>)</span><br><span class="line"></span><br><span class="line">    layout = QVBoxLayout(window)</span><br><span class="line"></span><br><span class="line">    label = QLabel(<span class="string">&quot;请选择一个选项&quot;</span>)</span><br><span class="line">    layout.addWidget(label)</span><br><span class="line"></span><br><span class="line">    combobox = QComboBox()</span><br><span class="line">    combobox.addItem(<span class="string">&quot;选项1&quot;</span>)</span><br><span class="line">    combobox.addItem(<span class="string">&quot;选项2&quot;</span>)</span><br><span class="line">    combobox.addItem(<span class="string">&quot;选项3&quot;</span>)</span><br><span class="line">    layout.addWidget(combobox)</span><br><span class="line">    <span class="comment">#下拉框选项变化信号</span></span><br><span class="line">    combobox.currentTextChanged.connect(on_combobox_changed)</span><br><span class="line"></span><br><span class="line">    window.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<h5 id="单选和多选"><a href="#单选和多选" class="headerlink" title="单选和多选"></a>单选和多选</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication,QWidget,QHBoxLayout,QVBoxLayout,QRadioButton,QCheckBox,QLabel,QGroupBox</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line">    w = QWidget()</span><br><span class="line">    w.resize(<span class="number">500</span>,<span class="number">500</span>)</span><br><span class="line">    <span class="comment">#创建用于布局两个布局工具的布局工具</span></span><br><span class="line">    main_layout = QVBoxLayout()</span><br><span class="line"></span><br><span class="line">    <span class="comment">#创建第一个分组框</span></span><br><span class="line">    group_1 = QGroupBox(<span class="string">&#x27;性别&#x27;</span>)</span><br><span class="line">    <span class="comment">#创建单选按钮(性别)</span></span><br><span class="line">    label = QLabel(<span class="string">&#x27;性别:&#x27;</span>)</span><br><span class="line">    male = QRadioButton(<span class="string">&quot;男&quot;</span>)</span><br><span class="line">    female = QRadioButton(<span class="string">&quot;女&quot;</span>)</span><br><span class="line">    <span class="comment">#创建水平布局工具将单选按钮添加到布局工具中</span></span><br><span class="line">    layout_h = QHBoxLayout()</span><br><span class="line">    layout_h.addWidget(label)</span><br><span class="line">    layout_h.addWidget(male)</span><br><span class="line">    layout_h.addWidget(female)</span><br><span class="line">    <span class="comment">#将布局工具作用在分组框上</span></span><br><span class="line">    group_1.setLayout(layout_h)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建第二个分组框</span></span><br><span class="line">    group_2 = QGroupBox(<span class="string">&#x27;爱好&#x27;</span>)</span><br><span class="line">    <span class="comment">#创建多选按钮,作用在垂直布局中</span></span><br><span class="line">    label = QLabel(<span class="string">&#x27;爱好：&#x27;</span>)</span><br><span class="line">    <span class="comment"># 创建多选按钮</span></span><br><span class="line">    h1 = QCheckBox(<span class="string">&quot;运动&quot;</span>)</span><br><span class="line">    h2 = QCheckBox(<span class="string">&quot;音乐&quot;</span>)</span><br><span class="line">    h3 = QCheckBox(<span class="string">&quot;读书&quot;</span>)</span><br><span class="line">    <span class="comment"># 将多选按钮添加到布局中</span></span><br><span class="line">    layout_v = QVBoxLayout()</span><br><span class="line">    layout_v.addWidget(h1)</span><br><span class="line">    layout_v.addWidget(h2)</span><br><span class="line">    layout_v.addWidget(h3)</span><br><span class="line">    group_2.setLayout(layout_v)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#将两个分组框添加在主布局工具中</span></span><br><span class="line">    main_layout.addWidget(group_1)</span><br><span class="line">    main_layout.addWidget(group_2)</span><br><span class="line">    <span class="comment"># 创建标签用于显示状态信息</span></span><br><span class="line">    label_msg = QLabel(<span class="string">&quot;&quot;</span>)</span><br><span class="line">    main_layout.addWidget(label_msg)</span><br><span class="line">    <span class="comment">#将主布局工具显示在主窗口上</span></span><br><span class="line">    w.setLayout(main_layout)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#信号与槽(单选按钮)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">male_func</span>():</span></span><br><span class="line">        label_msg.setText(<span class="string">&#x27;单选按钮被选中:&#x27;</span>+male.text())</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">female_func</span>():</span></span><br><span class="line">        label_msg.setText(<span class="string">&#x27;单选按钮被选中:&#x27;</span>+female.text())</span><br><span class="line">    </span><br><span class="line">    male.toggled.connect(male_func)</span><br><span class="line">    female.toggled.connect(female_func)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 信号与槽(多选按钮)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">h1_func</span>():</span></span><br><span class="line">        label_msg.setText(<span class="string">&#x27;多选按钮被选中:&#x27;</span>+h1.text())</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">h2_func</span>():</span></span><br><span class="line">        label_msg.setText(<span class="string">&#x27;多选按钮被选中:&#x27;</span>+h2.text())</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">h3_func</span>():</span></span><br><span class="line">        label_msg.setText(<span class="string">&#x27;多选按钮被选中:&#x27;</span>+h3.text())</span><br><span class="line">    </span><br><span class="line">    h1.stateChanged.connect(h1_func)</span><br><span class="line">    h2.stateChanged.connect(h2_func)</span><br><span class="line">    h3.stateChanged.connect(h3_func)</span><br><span class="line">    w.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<h5 id="表格控件"><a href="#表格控件" class="headerlink" title="表格控件"></a>表格控件</h5><ul>
<li>cellClicked信号：当用户点击一个单元格时触发</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建一个主窗口对象</span></span><br><span class="line">    mainWindow = QWidget()</span><br><span class="line">    mainWindow.setWindowTitle(<span class="string">&quot;Table Widget Example&quot;</span>)</span><br><span class="line">    <span class="comment"># 创建一个表格控件</span></span><br><span class="line">    tableWidget = QTableWidget(mainWindow)</span><br><span class="line">    <span class="comment"># 设置表格的行数和列数</span></span><br><span class="line">    tableWidget.setRowCount(<span class="number">2</span>)</span><br><span class="line">    tableWidget.setColumnCount(<span class="number">2</span>)</span><br><span class="line">    <span class="comment"># 设置表格的水平和垂直表头标签</span></span><br><span class="line">    tableWidget.setHorizontalHeaderLabels([<span class="string">&quot;Column 1&quot;</span>, <span class="string">&quot;Column 2&quot;</span>])</span><br><span class="line">    tableWidget.setVerticalHeaderLabels([<span class="string">&quot;Row 1&quot;</span>, <span class="string">&quot;Row 2&quot;</span>])</span><br><span class="line">    <span class="comment"># 设置表格的内容</span></span><br><span class="line">    tableWidget.setItem(<span class="number">0</span>, <span class="number">0</span>, QTableWidgetItem(<span class="string">&quot;Item 1&quot;</span>))</span><br><span class="line">    tableWidget.setItem(<span class="number">0</span>, <span class="number">1</span>, QTableWidgetItem(<span class="string">&quot;Item 2&quot;</span>))</span><br><span class="line">    tableWidget.setItem(<span class="number">1</span>, <span class="number">0</span>, QTableWidgetItem(<span class="string">&quot;Item 4&quot;</span>))</span><br><span class="line">    tableWidget.setItem(<span class="number">1</span>, <span class="number">1</span>, QTableWidgetItem(<span class="string">&quot;Item 5&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 连接cellClicked信号与handleCellClick槽</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">handleCellClick</span>(<span class="params">row,col</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Cell Clicked: &quot;</span>, row, col)</span><br><span class="line">    tableWidget.cellClicked.connect(handleCellClick)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 显示主窗口</span></span><br><span class="line">    mainWindow.show()</span><br><span class="line"></span><br><span class="line">    app.exec_()</span><br></pre></td></tr></table></figure>

<ul>
<li>itemChanged信号：当单元格的内容发生改变时触发。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建一个主窗口对象</span></span><br><span class="line">    mainWindow = QMainWindow()</span><br><span class="line">    mainWindow.setWindowTitle(<span class="string">&quot;Table Widget Example&quot;</span>)</span><br><span class="line">    <span class="comment"># 创建一个表格控件</span></span><br><span class="line">    tableWidget = QTableWidget(mainWindow)</span><br><span class="line">    <span class="comment"># 设置表格的行数和列数</span></span><br><span class="line">    tableWidget.setRowCount(<span class="number">2</span>)</span><br><span class="line">    tableWidget.setColumnCount(<span class="number">2</span>)</span><br><span class="line">    <span class="comment"># 设置表格的水平和垂直表头标签</span></span><br><span class="line">    tableWidget.setHorizontalHeaderLabels([<span class="string">&quot;Column 1&quot;</span>, <span class="string">&quot;Column 2&quot;</span>])</span><br><span class="line">    tableWidget.setVerticalHeaderLabels([<span class="string">&quot;Row 1&quot;</span>, <span class="string">&quot;Row 2&quot;</span>])</span><br><span class="line">    <span class="comment"># 设置表格的内容</span></span><br><span class="line">    tableWidget.setItem(<span class="number">0</span>, <span class="number">0</span>, QTableWidgetItem(<span class="string">&quot;Item 1&quot;</span>))</span><br><span class="line">    tableWidget.setItem(<span class="number">0</span>, <span class="number">1</span>, QTableWidgetItem(<span class="string">&quot;Item 2&quot;</span>))</span><br><span class="line">    tableWidget.setItem(<span class="number">1</span>, <span class="number">0</span>, QTableWidgetItem(<span class="string">&quot;Item 4&quot;</span>))</span><br><span class="line">    tableWidget.setItem(<span class="number">1</span>, <span class="number">1</span>, QTableWidgetItem(<span class="string">&quot;Item 5&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将表格控件添加到主窗口中</span></span><br><span class="line">    mainWindow.setCentralWidget(tableWidget)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 连接cellClicked信号与handleCellClick槽</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">handleItemChanged</span>(<span class="params">item</span>):</span></span><br><span class="line">        row = item.row()</span><br><span class="line">        col = item.column()</span><br><span class="line">        text = item.text()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Item Changed: &quot;</span>, row, col, text)</span><br><span class="line">    tableWidget.itemChanged.connect(handleItemChanged)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 显示主窗口</span></span><br><span class="line">    mainWindow.show()</span><br><span class="line"></span><br><span class="line">    app.exec_()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="将excel文件数据加载到表格组件中"><a href="#将excel文件数据加载到表格组件中" class="headerlink" title="将excel文件数据加载到表格组件中"></a>将excel文件数据加载到表格组件中</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">selectFile</span>():</span></span><br><span class="line">    file_dialog = QFileDialog()</span><br><span class="line">    file, _ = file_dialog.getOpenFileName(w, <span class="string">&quot;Open File&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;All Files (*)&quot;</span>)</span><br><span class="line">    <span class="comment">#file就是选中的文件路径</span></span><br><span class="line">    df = pd.read_excel(file)</span><br><span class="line">    row_count,col_count = df.shape</span><br><span class="line">    <span class="comment">#设置表格的行和列数</span></span><br><span class="line">    table.setRowCount(row_count)</span><br><span class="line">    table.setColumnCount(col_count)</span><br><span class="line">		<span class="comment">#将df表格中的数据写入到table中</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> <span class="built_in">range</span>(row_count):</span><br><span class="line">        <span class="keyword">for</span> col <span class="keyword">in</span> <span class="built_in">range</span>(col_count):</span><br><span class="line">            value = df.iloc[row,col]</span><br><span class="line">            table.setItem(row, col, QTableWidgetItem(value))</span><br><span class="line"></span><br><span class="line"><span class="comment">#1.创建一个qt的应用程序对象</span></span><br><span class="line">app = QApplication([])</span><br><span class="line"><span class="comment">#2.创建一个窗口对象</span></span><br><span class="line">w = QWidget()</span><br><span class="line"></span><br><span class="line">layout = QVBoxLayout()</span><br><span class="line">btn = QPushButton(<span class="string">&#x27;选择要加载的文件&#x27;</span>)</span><br><span class="line">btn.clicked.connect(selectFile)</span><br><span class="line"></span><br><span class="line">table = QTableWidget()</span><br><span class="line"></span><br><span class="line">layout.addWidget(btn)</span><br><span class="line">layout.addWidget(table)</span><br><span class="line"></span><br><span class="line">w.setLayout(layout)</span><br><span class="line"></span><br><span class="line"><span class="comment">#3.展示窗口</span></span><br><span class="line">w.show()</span><br><span class="line"><span class="comment">#4.程序进入循环等待状态，直到手动关闭窗口</span></span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>



<h2 id="综合项目案例"><a href="#综合项目案例" class="headerlink" title="综合项目案例"></a>综合项目案例</h2><p>文件查找功能和文件数据批量修改</p>
<ul>
<li>页面搭建</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line">    w = QWidget()</span><br><span class="line">    <span class="comment"># 设置窗口大小</span></span><br><span class="line">    w.resize(<span class="number">800</span>, <span class="number">600</span>)</span><br><span class="line">    <span class="comment">#创建主布局对象（垂直布局）:用于布局表单布局容器和table表格</span></span><br><span class="line">    layout = QVBoxLayout()</span><br><span class="line"></span><br><span class="line">    <span class="comment">#创建表单布局工具</span></span><br><span class="line">    form = QFormLayout()</span><br><span class="line"></span><br><span class="line">    <span class="comment">#文件查找范围指定</span></span><br><span class="line">    dir_path = QLineEdit()</span><br><span class="line">    dir_path.setPlaceholderText(<span class="string">&#x27;先确定查找文件的范围&#x27;</span>)</span><br><span class="line">    dir_path.setFixedSize(<span class="number">250</span>, <span class="number">30</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;范围:&#x27;</span>, dir_path)</span><br><span class="line"></span><br><span class="line">    btn = QPushButton(<span class="string">&#x27;选择查找范围&#x27;</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;&#x27;</span>, btn)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#查找文件/文件夹</span></span><br><span class="line">    fileName = QLineEdit()</span><br><span class="line">    fileName.setPlaceholderText(<span class="string">&#x27;请输入要查找文件/文件夹的名字&#x27;</span>)</span><br><span class="line">    fileName.setFixedSize(<span class="number">250</span>, <span class="number">30</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;文件名:&#x27;</span>, fileName)</span><br><span class="line"></span><br><span class="line">    btn_1 = QPushButton(<span class="string">&#x27;查找&#x27;</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;&#x27;</span>, btn_1)</span><br><span class="line"></span><br><span class="line">    showMsg = QLabel(<span class="string">&quot;&quot;</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;&#x27;</span>, showMsg)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#文件数据修改</span></span><br><span class="line">    filePathEdit = QLineEdit()</span><br><span class="line">    filePathEdit.setPlaceholderText(<span class="string">&#x27;请输入修改数据的文件路径&#x27;</span>)</span><br><span class="line">    filePathEdit.setFixedSize(<span class="number">250</span>, <span class="number">30</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;文件路径:&#x27;</span>, filePathEdit)</span><br><span class="line"></span><br><span class="line">    btn_2 = QPushButton(<span class="string">&#x27;选择文件&#x27;</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;&#x27;</span>,btn_2)</span><br><span class="line"></span><br><span class="line">    oldEdit = QLineEdit()</span><br><span class="line">    oldEdit.setPlaceholderText(<span class="string">&#x27;请输入要修改的数据&#x27;</span>)</span><br><span class="line">    oldEdit.setFixedSize(<span class="number">250</span>, <span class="number">30</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;要修改数据:&#x27;</span>, oldEdit)</span><br><span class="line"></span><br><span class="line">    newEdit = QLineEdit()</span><br><span class="line">    newEdit.setPlaceholderText(<span class="string">&#x27;请输入修改后的数据&#x27;</span>)</span><br><span class="line">    newEdit.setFixedSize(<span class="number">250</span>, <span class="number">30</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;修改后的数据:&#x27;</span>, newEdit)</span><br><span class="line"></span><br><span class="line">    btn_3 = QPushButton(<span class="string">&#x27;确认修改&#x27;</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;&#x27;</span>, btn_3)</span><br><span class="line"></span><br><span class="line">    layout.addLayout(form)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建一个表格控件</span></span><br><span class="line">    table = QTableWidget(w)</span><br><span class="line">    table.setFixedSize(<span class="number">800</span>, <span class="number">500</span>)</span><br><span class="line">    layout.addWidget(table)</span><br><span class="line"></span><br><span class="line">    w.setLayout(layout)</span><br><span class="line"></span><br><span class="line">    w.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<ul>
<li>文件查找</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment">#确定查找文件范围的槽函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">select_range</span>():</span></span><br><span class="line">    file_dialog = QFileDialog()</span><br><span class="line">    folder_path = file_dialog.getExistingDirectory(w, <span class="string">&quot;选择文件夹&quot;</span>, <span class="string">&quot;/&quot;</span>)</span><br><span class="line">    dir_path.setText(folder_path)</span><br><span class="line"><span class="comment">#文件查找的槽函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findFile</span>():</span></span><br><span class="line">    file_name = fileName.text()</span><br><span class="line">    <span class="comment"># walk可以遍历指定目录下所有文件和文件夹的名字</span></span><br><span class="line">    <span class="comment"># walk返回值为根目录路径和其下所有的文件夹名字和文件名</span></span><br><span class="line">    <span class="comment"># walk参数为要进行文件查找的根目录路径（可自行修改）</span></span><br><span class="line">    rootPath = dir_path.text()</span><br><span class="line"></span><br><span class="line">    find_state = <span class="literal">False</span> <span class="comment">#文件是否被找到的状态</span></span><br><span class="line">    <span class="keyword">for</span> folderName, subfolders, filenames <span class="keyword">in</span> os.walk(rootPath):</span><br><span class="line">        <span class="keyword">for</span> subfolder <span class="keyword">in</span> subfolders:</span><br><span class="line">            <span class="keyword">if</span> subfolder == file_name:</span><br><span class="line">                <span class="comment"># 查找到的文件夹路径</span></span><br><span class="line">                path = folderName + <span class="string">&#x27;/&#x27;</span> + subfolder</span><br><span class="line">                <span class="comment"># 显示在结果区域</span></span><br><span class="line">                showMsg.setText(path)</span><br><span class="line">                find_state = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="comment">#如果找到就循环结束，否则继续循环查找文件</span></span><br><span class="line">        <span class="keyword">if</span> find_state == <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">for</span> filename <span class="keyword">in</span> filenames:</span><br><span class="line">                <span class="keyword">if</span> filename == file_name:</span><br><span class="line">                    <span class="comment"># 查找到的文件路径</span></span><br><span class="line">                    path = folderName + <span class="string">&#x27;/&#x27;</span> + filename</span><br><span class="line">                    <span class="comment"># 显示在结果区域</span></span><br><span class="line">                    showMsg.setText(path)</span><br><span class="line">                    find_state = <span class="literal">True</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">if</span> find_state == <span class="literal">False</span>:</span><br><span class="line">        showMsg.setText(<span class="string">&#x27;没有找到该文件！&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line">    w = QWidget()</span><br><span class="line">    <span class="comment"># 设置窗口大小</span></span><br><span class="line">    w.resize(<span class="number">800</span>, <span class="number">600</span>)</span><br><span class="line">    <span class="comment">#创建主布局对象（垂直布局）:用于布局表单布局容器和table表格</span></span><br><span class="line">    layout = QVBoxLayout()</span><br><span class="line"></span><br><span class="line">    <span class="comment">#创建表单布局工具</span></span><br><span class="line">    form = QFormLayout()</span><br><span class="line"></span><br><span class="line">    <span class="comment">#文件查找范围指定</span></span><br><span class="line">    dir_path = QLineEdit()</span><br><span class="line">    dir_path.setPlaceholderText(<span class="string">&#x27;先确定查找文件的范围&#x27;</span>)</span><br><span class="line">    dir_path.setFixedSize(<span class="number">250</span>, <span class="number">30</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;范围:&#x27;</span>, dir_path)</span><br><span class="line"></span><br><span class="line">    btn = QPushButton(<span class="string">&#x27;选择查找范围&#x27;</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;&#x27;</span>, btn)</span><br><span class="line">    btn.clicked.connect(select_range)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#查找文件/文件夹</span></span><br><span class="line">    fileName = QLineEdit()</span><br><span class="line">    fileName.setPlaceholderText(<span class="string">&#x27;请输入要查找文件/文件夹的名字&#x27;</span>)</span><br><span class="line">    fileName.setFixedSize(<span class="number">250</span>, <span class="number">30</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;文件名:&#x27;</span>, fileName)</span><br><span class="line"></span><br><span class="line">    btn_1 = QPushButton(<span class="string">&#x27;查找&#x27;</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;&#x27;</span>, btn_1)</span><br><span class="line">    btn_1.clicked.connect(findFile)</span><br><span class="line"></span><br><span class="line">    showMsg = QLabel(<span class="string">&quot;&quot;</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;&#x27;</span>, showMsg)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#文件数据修改</span></span><br><span class="line">    filePathEdit = QLineEdit()</span><br><span class="line">    filePathEdit.setPlaceholderText(<span class="string">&#x27;请输入修改数据的文件路径&#x27;</span>)</span><br><span class="line">    filePathEdit.setFixedSize(<span class="number">250</span>, <span class="number">30</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;文件路径:&#x27;</span>, filePathEdit)</span><br><span class="line"></span><br><span class="line">    btn_2 = QPushButton(<span class="string">&#x27;选择文件&#x27;</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;&#x27;</span>,btn_2)</span><br><span class="line"></span><br><span class="line">    oldEdit = QLineEdit()</span><br><span class="line">    oldEdit.setPlaceholderText(<span class="string">&#x27;请输入要修改的数据&#x27;</span>)</span><br><span class="line">    oldEdit.setFixedSize(<span class="number">250</span>, <span class="number">30</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;要修改数据:&#x27;</span>, oldEdit)</span><br><span class="line"></span><br><span class="line">    newEdit = QLineEdit()</span><br><span class="line">    newEdit.setPlaceholderText(<span class="string">&#x27;请输入修改后的数据&#x27;</span>)</span><br><span class="line">    newEdit.setFixedSize(<span class="number">250</span>, <span class="number">30</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;修改后的数据:&#x27;</span>, newEdit)</span><br><span class="line"></span><br><span class="line">    btn_3 = QPushButton(<span class="string">&#x27;确认修改&#x27;</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;&#x27;</span>, btn_3)</span><br><span class="line"></span><br><span class="line">    layout.addLayout(form)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建一个表格控件</span></span><br><span class="line">    table = QTableWidget(w)</span><br><span class="line">    table.setFixedSize(<span class="number">800</span>, <span class="number">500</span>)</span><br><span class="line">    layout.addWidget(table)</span><br><span class="line"></span><br><span class="line">    w.setLayout(layout)</span><br><span class="line"></span><br><span class="line">    w.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<ul>
<li>文件数据修改</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> openpyxl <span class="keyword">import</span> load_workbook</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="comment">#确定查找文件范围的槽函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">select_range</span>():</span></span><br><span class="line">    file_dialog = QFileDialog()</span><br><span class="line">    folder_path = file_dialog.getExistingDirectory(w, <span class="string">&quot;选择文件夹&quot;</span>, <span class="string">&quot;/&quot;</span>)</span><br><span class="line">    dir_path.setText(folder_path)</span><br><span class="line"><span class="comment">#文件查找的槽函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findFile</span>():</span></span><br><span class="line">    file_name = fileName.text()</span><br><span class="line">    <span class="comment"># walk可以遍历指定目录下所有文件和文件夹的名字</span></span><br><span class="line">    <span class="comment"># walk返回值为根目录路径和其下所有的文件夹名字和文件名</span></span><br><span class="line">    <span class="comment"># walk参数为要进行文件查找的根目录路径（可自行修改）</span></span><br><span class="line">    rootPath = dir_path.text()</span><br><span class="line"></span><br><span class="line">    find_state = <span class="literal">False</span> <span class="comment">#文件是否被找到的状态</span></span><br><span class="line">    <span class="keyword">for</span> folderName, subfolders, filenames <span class="keyword">in</span> os.walk(rootPath):</span><br><span class="line">        <span class="keyword">for</span> subfolder <span class="keyword">in</span> subfolders:</span><br><span class="line">            <span class="keyword">if</span> subfolder == file_name:</span><br><span class="line">                <span class="comment"># 查找到的文件夹路径</span></span><br><span class="line">                path = folderName + <span class="string">&#x27;/&#x27;</span> + subfolder</span><br><span class="line">                <span class="comment"># 显示在结果区域</span></span><br><span class="line">                showMsg.setText(path)</span><br><span class="line">                find_state = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="comment">#如果找到就循环结束，否则继续循环查找文件</span></span><br><span class="line">        <span class="keyword">if</span> find_state == <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">for</span> filename <span class="keyword">in</span> filenames:</span><br><span class="line">                <span class="keyword">if</span> filename == file_name:</span><br><span class="line">                    <span class="comment"># 查找到的文件路径</span></span><br><span class="line">                    path = folderName + <span class="string">&#x27;/&#x27;</span> + filename</span><br><span class="line">                    <span class="comment"># 显示在结果区域</span></span><br><span class="line">                    showMsg.setText(path)</span><br><span class="line">                    find_state = <span class="literal">True</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">if</span> find_state == <span class="literal">False</span>:</span><br><span class="line">        showMsg.setText(<span class="string">&#x27;没有找到该文件！&#x27;</span>)</span><br><span class="line"><span class="comment">#选择文件槽函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">selectFile</span>():</span></span><br><span class="line">    file_dialog = QFileDialog()</span><br><span class="line">    file, _ = file_dialog.getOpenFileName(w, <span class="string">&quot;Open File&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;All Files (*)&quot;</span>)</span><br><span class="line">    filePathEdit.setText(file)</span><br><span class="line">    <span class="comment">#将选择的excel文件数据显示在table表格中</span></span><br><span class="line">    <span class="comment"># 打开excel文件</span></span><br><span class="line">    workbook = load_workbook(file)</span><br><span class="line">    <span class="comment"># 获取第一个工作表</span></span><br><span class="line">    sheet = workbook.active</span><br><span class="line">    <span class="comment"># 获取表格的行数和列数</span></span><br><span class="line">    rows = sheet.max_row</span><br><span class="line">    cols = sheet.max_column</span><br><span class="line">    <span class="comment"># 设置表格的行数和列数</span></span><br><span class="line">    table.setRowCount(rows)</span><br><span class="line">    table.setColumnCount(cols)</span><br><span class="line">    <span class="comment"># 遍历表格数据，将数据填充到表格控件中</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, rows + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> col <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, cols + <span class="number">1</span>):</span><br><span class="line">            cell_value = sheet.cell(row=row, column=col).value</span><br><span class="line">            item = QTableWidgetItem(<span class="built_in">str</span>(cell_value))</span><br><span class="line">            table.setItem(row - <span class="number">1</span>, col - <span class="number">1</span>, item)</span><br><span class="line"></span><br><span class="line"><span class="comment">#确认修改槽函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">changeFileData</span>():</span></span><br><span class="line">    file = filePathEdit.text()</span><br><span class="line">    old = oldEdit.text()</span><br><span class="line">    new = newEdit.text()</span><br><span class="line">    <span class="comment"># ./mails.xlsx</span></span><br><span class="line">    df = pd.read_excel(file)</span><br><span class="line">    df.replace(to_replace=old, value=new, inplace=<span class="literal">True</span>)</span><br><span class="line">    df.to_excel(file,index=<span class="literal">False</span>)</span><br><span class="line">    msg.setText(<span class="string">&#x27;将%s文件中所有的&quot;%s&quot;修改为了&quot;%s&quot;&#x27;</span>%(file,old,new))</span><br><span class="line">    <span class="comment">#更新table表格中的数据</span></span><br><span class="line">    <span class="comment"># 打开excel文件</span></span><br><span class="line">    workbook = load_workbook(file)</span><br><span class="line">    <span class="comment"># 获取第一个工作表</span></span><br><span class="line">    sheet = workbook.active</span><br><span class="line">    <span class="comment"># 获取表格的行数和列数</span></span><br><span class="line">    rows = sheet.max_row</span><br><span class="line">    cols = sheet.max_column</span><br><span class="line">    <span class="comment"># 设置表格的行数和列数</span></span><br><span class="line">    table.setRowCount(rows)</span><br><span class="line">    table.setColumnCount(cols)</span><br><span class="line">    <span class="comment"># 遍历表格数据，将数据填充到表格控件中</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, rows + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> col <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, cols + <span class="number">1</span>):</span><br><span class="line">            cell_value = sheet.cell(row=row, column=col).value</span><br><span class="line">            item = QTableWidgetItem(<span class="built_in">str</span>(cell_value))</span><br><span class="line">            table.setItem(row - <span class="number">1</span>, col - <span class="number">1</span>, item)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line">    w = QWidget()</span><br><span class="line">    <span class="comment"># 设置窗口大小</span></span><br><span class="line">    w.resize(<span class="number">800</span>, <span class="number">600</span>)</span><br><span class="line">    <span class="comment">#创建主布局对象（垂直布局）:用于布局表单布局容器和table表格</span></span><br><span class="line">    layout = QVBoxLayout()</span><br><span class="line"></span><br><span class="line">    <span class="comment">#创建表单布局工具</span></span><br><span class="line">    form = QFormLayout()</span><br><span class="line"></span><br><span class="line">    <span class="comment">#文件查找范围指定</span></span><br><span class="line">    dir_path = QLineEdit()</span><br><span class="line">    dir_path.setPlaceholderText(<span class="string">&#x27;先确定查找文件的范围&#x27;</span>)</span><br><span class="line">    dir_path.setFixedSize(<span class="number">250</span>, <span class="number">30</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;范围:&#x27;</span>, dir_path)</span><br><span class="line"></span><br><span class="line">    btn = QPushButton(<span class="string">&#x27;选择查找范围&#x27;</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;&#x27;</span>, btn)</span><br><span class="line">    btn.clicked.connect(select_range)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#查找文件/文件夹</span></span><br><span class="line">    fileName = QLineEdit()</span><br><span class="line">    fileName.setPlaceholderText(<span class="string">&#x27;请输入要查找文件/文件夹的名字&#x27;</span>)</span><br><span class="line">    fileName.setFixedSize(<span class="number">250</span>, <span class="number">30</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;文件名:&#x27;</span>, fileName)</span><br><span class="line"></span><br><span class="line">    btn_1 = QPushButton(<span class="string">&#x27;查找&#x27;</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;&#x27;</span>, btn_1)</span><br><span class="line">    btn_1.clicked.connect(findFile)</span><br><span class="line"></span><br><span class="line">    showMsg = QLabel(<span class="string">&quot;&quot;</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;&#x27;</span>, showMsg)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#文件数据修改</span></span><br><span class="line">    filePathEdit = QLineEdit()</span><br><span class="line">    filePathEdit.setPlaceholderText(<span class="string">&#x27;请输入修改数据的文件路径&#x27;</span>)</span><br><span class="line">    filePathEdit.setFixedSize(<span class="number">250</span>, <span class="number">30</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;文件路径:&#x27;</span>, filePathEdit)</span><br><span class="line"></span><br><span class="line">    btn_2 = QPushButton(<span class="string">&#x27;选择文件&#x27;</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;&#x27;</span>,btn_2)</span><br><span class="line">    btn_2.clicked.connect(selectFile)</span><br><span class="line"></span><br><span class="line">    oldEdit = QLineEdit()</span><br><span class="line">    oldEdit.setPlaceholderText(<span class="string">&#x27;请输入要修改的数据&#x27;</span>)</span><br><span class="line">    oldEdit.setFixedSize(<span class="number">250</span>, <span class="number">30</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;要修改数据:&#x27;</span>, oldEdit)</span><br><span class="line"></span><br><span class="line">    newEdit = QLineEdit()</span><br><span class="line">    newEdit.setPlaceholderText(<span class="string">&#x27;请输入修改后的数据&#x27;</span>)</span><br><span class="line">    newEdit.setFixedSize(<span class="number">250</span>, <span class="number">30</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;修改后的数据:&#x27;</span>, newEdit)</span><br><span class="line"></span><br><span class="line">    btn_3 = QPushButton(<span class="string">&#x27;确认修改&#x27;</span>)</span><br><span class="line">    form.addRow(<span class="string">&#x27;&#x27;</span>, btn_3)</span><br><span class="line">    btn_3.clicked.connect(changeFileData)</span><br><span class="line"></span><br><span class="line">    msg = QLabel(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    form.addRow(msg)</span><br><span class="line"></span><br><span class="line">    layout.addLayout(form)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建一个表格控件</span></span><br><span class="line">    table = QTableWidget(w)</span><br><span class="line">    table.setFixedSize(<span class="number">800</span>, <span class="number">500</span>)</span><br><span class="line">    layout.addWidget(table)</span><br><span class="line"></span><br><span class="line">    w.setLayout(layout)</span><br><span class="line"></span><br><span class="line">    w.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>




      
    </div>
    
    
    

    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者：</strong>
    General usopp
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://shenle2019.github.io/2024/03/14/%E7%88%AC%E8%99%AB011-pyqt/" title="爬虫011-pyqt">https://shenle2019.github.io/2024/03/14/%E7%88%AC%E8%99%AB011-pyqt/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>
    本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/" rel="tag"># 测试开发</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2024/03/14/%E7%88%AC%E8%99%AB010-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E7%BB%83%E4%B9%A0/" rel="next" title="爬虫010-并发编程练习">
                <i class="fa fa-chevron-left"></i> 爬虫010-并发编程练习
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2024/03/14/%E7%88%AC%E8%99%AB012-playwright%E7%9B%B8%E5%85%B3/" rel="prev" title="爬虫012-playwright相关">
                爬虫012-playwright相关 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  <!-- 文章结束表示语-->
   <div>
     
       <div>
    
        <div style="text-align:center;color: #2E406D;font-size:16px;">--------------------- 本文结束,感谢您的阅读---------------------</div>
    
</div>

     
   </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/psb.jpg"
                alt="" />
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">62</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/shenle2019" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:emptymiss99@outlook.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#PyQt"><span class="nav-number">1.</span> <span class="nav-text">PyQt</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.1.</span> <span class="nav-text">介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85"><span class="nav-number">1.2.</span> <span class="nav-text">环境安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C"><span class="nav-number">1.3.</span> <span class="nav-text">相关操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E7%BB%84%E4%BB%B6"><span class="nav-number">1.3.1.</span> <span class="nav-text">相关组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#QWidget%E4%B8%BB%E7%AA%97%E5%8F%A3%E7%BB%84%E4%BB%B6"><span class="nav-number">1.3.1.1.</span> <span class="nav-text">QWidget主窗口组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8C%89%E9%92%AE%E7%BB%84%E4%BB%B6"><span class="nav-number">1.3.1.2.</span> <span class="nav-text">按钮组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%87%E7%AD%BE%E7%BB%84%E4%BB%B6"><span class="nav-number">1.3.1.3.</span> <span class="nav-text">标签组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BE%93%E5%85%A5%E6%A1%86"><span class="nav-number">1.3.1.4.</span> <span class="nav-text">输入框</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A1%A8%E6%A0%BC"><span class="nav-number">1.3.1.5.</span> <span class="nav-text">表格</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B0%83%E6%95%B4%E7%AA%97%E5%8F%A3%E5%A4%A7%E5%B0%8F"><span class="nav-number">1.3.1.6.</span> <span class="nav-text">调整窗口大小</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%93%E5%8C%85"><span class="nav-number">1.4.</span> <span class="nav-text">打包</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%83%E5%B1%80"><span class="nav-number">1.5.</span> <span class="nav-text">布局</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#QBoxLayout"><span class="nav-number">1.5.1.</span> <span class="nav-text">QBoxLayout</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#QGridLayout"><span class="nav-number">1.5.2.</span> <span class="nav-text">QGridLayout</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#QFormLayout"><span class="nav-number">1.5.3.</span> <span class="nav-text">QFormLayout</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AA%97%E5%8F%A3"><span class="nav-number">1.6.</span> <span class="nav-text">窗口</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#QMainWindow"><span class="nav-number">1.6.1.</span> <span class="nav-text">QMainWindow</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#QDialog"><span class="nav-number">1.6.2.</span> <span class="nav-text">QDialog</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD"><span class="nav-number">1.7.</span> <span class="nav-text">信号与槽</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%A1%E5%8F%B7"><span class="nav-number">1.7.1.</span> <span class="nav-text">信号</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A7%BD"><span class="nav-number">1.7.2.</span> <span class="nav-text">槽</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD%E9%93%BE%E6%8E%A5"><span class="nav-number">1.7.3.</span> <span class="nav-text">信号与槽链接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B7%E4%BD%93%E6%93%8D%E4%BD%9C"><span class="nav-number">1.7.4.</span> <span class="nav-text">具体操作</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A0%A1%E9%AA%8C%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE"><span class="nav-number">1.7.4.0.1.</span> <span class="nav-text">校验用户密码是否正确</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E9%80%89%E6%8B%A9%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="nav-number">1.7.4.0.2.</span> <span class="nav-text">文件选择对话框</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%A4%B9%E9%80%89%E6%8B%A9"><span class="nav-number">1.7.4.0.3.</span> <span class="nav-text">文件夹选择</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%8B%E6%8B%89%E6%A1%86"><span class="nav-number">1.7.4.0.4.</span> <span class="nav-text">下拉框</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8D%95%E9%80%89%E5%92%8C%E5%A4%9A%E9%80%89"><span class="nav-number">1.7.4.0.5.</span> <span class="nav-text">单选和多选</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%A1%A8%E6%A0%BC%E6%8E%A7%E4%BB%B6"><span class="nav-number">1.7.4.0.6.</span> <span class="nav-text">表格控件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B0%86excel%E6%96%87%E4%BB%B6%E6%95%B0%E6%8D%AE%E5%8A%A0%E8%BD%BD%E5%88%B0%E8%A1%A8%E6%A0%BC%E7%BB%84%E4%BB%B6%E4%B8%AD"><span class="nav-number">1.7.4.0.7.</span> <span class="nav-text">将excel文件数据加载到表格组件中</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%BC%E5%90%88%E9%A1%B9%E7%9B%AE%E6%A1%88%E4%BE%8B"><span class="nav-number">1.8.</span> <span class="nav-text">综合项目案例</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      
	  
			<!-- require APlayer -->
			<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">
			<script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>
			<!-- require MetingJS-->
			<script src="https://cdn.jsdelivr.net/npm/meting@2.0.1/dist/Meting.min.js"></script> 
			<!--网易云-->   
			<meting-js
			server="netease"
			id="7091778006"
			type="playlist"
			mini="true"
			fixed="true"
			list-folded="true"
			autoplay="true"
			volume="0.5"
			theme="#FADFA3"
			order="random"
			loop="all"
			preload="auto"
			mutex="true">
			</meting-js>	  

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2021 &mdash; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">General usopp</span>

  
</div>








  <div class="footer-custom">乌索普大将的个人博客</div>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>本站总访客数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人次
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>本站访问总量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'pDMnuCn44ZQITVEtQAfiiXr5-gzGzoHsz',
        appKey: 'y43DvreFS6iyfhy7ScRCF8Cy',
        placeholder: 'Just go go',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"left","width":150,"height":240,"hOffset":100,"vOffset":0},"mobile":{"show":false},"react":{"opacity":0.8},"log":false});</script><script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},t.src!==i&&(n.src=i)}()}o(),n.addEventListener("scroll",function(){var t,e;t=o,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body>
</html>
